## 01 react ref 计算元素的尺寸

```ts
const demo = () => {
  const ref = useCallback((el: HTMLElement | null) => {
    if (el) {
      setTimeout(() => {
        const boundingRect = el.getBoundingClientRect()
        props.onHeight(boundingRect.height)
      })
    }
  }, [])

  return <div ref={ref}>react ref 计算元素的尺寸</div>
}
```

## 02 TS 中 Partial 和 Pick 组合使用

```ts
export type ToastOptions = Partial<Pick<Toast, 'id' | 'icon' | 'duration' | 'role' | 'className' | 'style'>>
```

## 03 TS 里定义一个函数数组

```ts
const listeners: Array<(state: State) => void> = []
```

## 04 CSS IN JS

```tsx
import { styled, keyframes } from 'goober'

const rotate = keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`

export interface LoaderTheme {
  primary?: string
  secondary?: string
}

export const LoaderIcon = styled('div')<LoaderTheme>`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${(p) => p.secondary ?? '#e0e0e0'};
  border-right-color: ${(p) => p.primary ?? '#616161'};
  animation: ${rotate} 1s linear infinite;
`
```

## 05 TS 中定义 CSS 类型接口

```ts
import { Properties } from 'csstype'

export interface IconTheme {
  primary: string
  secondary: string
}

export interface Toast {
  style?: Properties
  iconTheme?: IconTheme
}
```

React 中也有定义 CSS 类型：

```ts
const promptAlert: React.CSSProperties = {
  display: 'flex',
  flexDirection: 'column',
}
```
